"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.eventMixin=exports.eventHook=void 0;const events_1=require("events"),service_1=require("./service");function eventHook(t,e){const n=(0,service_1.getServiceOptions)(t.self)["events"];var r=service_1.defaultEventMap[t.method]||null;return t.event=r,e().then(()=>{if("string"==typeof t.event&&!n.includes(t.event)){const e=Array.isArray(t.result)?t.result:[t.result];e.forEach(e=>t.self.emit(t.event,e,t))}})}function eventMixin(e){return"function"==typeof e.on&&"function"==typeof e.emit||Object.assign(e,events_1.EventEmitter.prototype),e}exports.eventHook=eventHook,exports.eventMixin=eventMixin;